{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-category\"\n};\nconst _hoisted_2 = {\n  class: \"columns is-multiline\"\n};\nconst _hoisted_3 = {\n  class: \"column is-12\"\n};\nconst _hoisted_4 = {\n  class: \"is-size-2 has-text-centered\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProductBox = _resolveComponent(\"ProductBox\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h2\", _hoisted_4, _toDisplayString($data.category.name), 1 /* TEXT */)]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.category.products, product => {\n    return _openBlock(), _createBlock(_component_ProductBox, {\n      key: product.id,\n      product: product\n    }, null, 8 /* PROPS */, [\"product\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","category","name","_Fragment","_renderList","products","product","_createBlock","_component_ProductBox","key","id"],"sources":["/Users/belgee/Downloads/my_shop-main/shop_vue/src/views/Category.vue"],"sourcesContent":["<template>\n    <div class=\"page-category\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h2 class=\"is-size-2 has-text-centered\">{{ category.name }}</h2>\n            </div>\n        \n        <ProductBox \n        v-for=\"product in category.products\"\n        v-bind:key=\"product.id\"\n        v-bind:product=\"product\" />\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\nimport ProductBox from '@/components/Productbox.vue'\n\n\n\n\nexport default {\n    name: 'Category',\n    components: {\n        ProductBox\n    },\n    data() {\n        return {\n            category: {\n                products: []\n            }\n        }\n    },\n    mounted() {\n        this.getCategory()\n    },\n    watch: {\n        // need to normally update category.name after click\n        $route(to, from) {\n            if (to.name === 'Category') {\n                this.getCategory()\n            }\n        }\n    },\n    methods: {\n        async getCategory() {\n            const categorySlug = this.$route.params.category_slug\n\n            this.$store.commit('setIsLoading', true)\n\n            await axios\n                .get(`/api/v1/products/${categorySlug}/`)\n                .then(response => {\n                    this.category = response.data\n\n                    document.title = this.category.name + ' | Glee'\n                })\n                .catch(error => {\n                    console.log(error)\n\n                    toast({\n                        message: 'Something went wrong. Please try again.',\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                        duration: 2000,\n                        position: 'bottom-right',\n                    })\n                })\n\n            this.$store.commit('setIsLoading', false)\n        }\n    }\n}\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAsB;;EACxBA,KAAK,EAAC;AAAc;;EACjBA,KAAK,EAAC;AAA6B;;;uBAHnDC,mBAAA,CAYM,OAZNC,UAYM,GAXFC,mBAAA,CAUM,OAVNC,UAUM,GATFD,mBAAA,CAEM,OAFNE,UAEM,GADFF,mBAAA,CAAgE,MAAhEG,UAAgE,EAAAC,gBAAA,CAArBC,KAAA,CAAAC,QAAQ,CAACC,IAAI,iB,sBAGhET,mBAAA,CAG2BU,SAAA,QAAAC,WAAA,CAFTJ,KAAA,CAAAC,QAAQ,CAACI,QAAQ,EAA5BC,OAAO;yBADdC,YAAA,CAG2BC,qBAAA;MADpBC,GAAG,EAAEH,OAAO,CAACI,EAAE;MACfJ,OAAO,EAAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}