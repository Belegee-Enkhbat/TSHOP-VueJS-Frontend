{"ast":null,"code":"import _regeneratorRuntime from \"/Users/belgee/Desktop/ICSI402-Software-Development/TeamProject/TSHOP-Frontend-VueJS/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/belgee/Desktop/ICSI402-Software-Development/TeamProject/TSHOP-Frontend-VueJS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from \"axios\";\nimport ProductBox from \"@/components/Productbox.vue\";\nimport SideBarFilter from \"../components/SideBarFilter.vue\";\nexport default {\n  name: \"Search\",\n  computed: {\n    Productbox: function (_Productbox) {\n      function Productbox() {\n        return _Productbox.apply(this, arguments);\n      }\n      Productbox.toString = function () {\n        return _Productbox.toString();\n      };\n      return Productbox;\n    }(function () {\n      return Productbox;\n    })\n  },\n  components: {\n    ProductBox: ProductBox,\n    SideBarFilter: SideBarFilter\n  },\n  data: function data() {\n    return {\n      products: [],\n      query: \"\"\n    };\n  },\n  mounted: function mounted() {\n    document.title = \"Search | Glee\";\n    var uri = window.location.search.substring(1);\n    var params = new URLSearchParams(uri);\n    if (params.get(\"query\")) {\n      this.query = params.get(\"query\");\n      this.performSearch();\n    }\n  },\n  methods: {\n    performSearch: function performSearch() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.$store.commit(\"setIsLoading\", true);\n              _context.next = 3;\n              return axios.post(\"/api/v1/products/search/\", {\n                query: _this.query\n              }).then(function (response) {\n                _this.products = response.data;\n              })[\"catch\"](function (error) {\n                console.log(error);\n              });\n            case 3:\n              _this.$store.commit(\"setIsLoading\", false);\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","ProductBox","SideBarFilter","name","computed","Productbox","_Productbox","apply","arguments","toString","components","data","products","query","mounted","document","title","uri","window","location","search","substring","params","URLSearchParams","get","performSearch","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","commit","post","then","response","error","console","log","stop"],"sources":["/Users/belgee/Desktop/ICSI402-Software-Development/TeamProject/TSHOP-Frontend-VueJS/src/views/Search.vue"],"sourcesContent":["<template>\n  <div class=\"page-search\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\"></h1>\n\n        <h2 class=\"is-size-5 has-text-grey\">Search term: \"{{ query }}\"</h2>\n      </div>\n      <div class=\"main\">\n        <div class=\"filter\">\n          <SideBarFilter></SideBarFilter>\n        </div>\n        <div class=\"product\">\n\n        <ProductBox\n          v-for=\"product in products\"\n          v-bind:key=\"product.id\"\n          v-bind:product=\"product\"\n        />\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ProductBox from \"@/components/Productbox.vue\";\nimport SideBarFilter from \"../components/SideBarFilter.vue\";\nexport default {\n  name: \"Search\",\n  computed: {\n    Productbox() {\n      return Productbox\n    }\n  },\n  components: {\n    ProductBox,\n    SideBarFilter,\n  },\n  data() {\n    return {\n      products: [],\n      query: \"\",\n    };\n  },\n  mounted() {\n    document.title = \"Search | Glee\";\n\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n\n    if (params.get(\"query\")) {\n      this.query = params.get(\"query\");\n\n      this.performSearch();\n    }\n  },\n  methods: {\n    async performSearch() {\n      this.$store.commit(\"setIsLoading\", true);\n\n      await axios\n        .post(\"/api/v1/products/search/\", { query: this.query })\n        .then((response) => {\n          this.products = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n\n      this.$store.commit(\"setIsLoading\", false);\n    },\n  },\n};\n</script>\n<style scoped>\n\n.main{\n  display: grid;\n  grid-template-columns: 20% 80%;\n}\n.product{\n  display: grid;\n  grid-template-columns: 50% 50%;\n}\n\n.column.is-3{\n  width: 100%;\n}\n</style>"],"mappings":";;;;;;;;;;;;;;AA2BA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,UAAS,MAAO,6BAA6B;AACpD,OAAOC,aAAY,MAAO,iCAAiC;AAC3D,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,QAAQ,EAAE;IACRC,UAAU,YAAAC,WAAA;MAAA,SAAAD,WAAA;QAAA,OAAAC,WAAA,CAAAC,KAAA,OAAAC,SAAA;MAAA;MAAAH,UAAA,CAAAI,QAAA;QAAA,OAAAH,WAAA,CAAAG,QAAA;MAAA;MAAA,OAAAJ,UAAA;IAAA,cAAG;MACX,OAAOA,UAAS;IAClB;EACF,CAAC;EACDK,UAAU,EAAE;IACVT,UAAU,EAAVA,UAAU;IACVC,aAAa,EAAbA;EACF,CAAC;EACDS,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IACRC,QAAQ,CAACC,KAAI,GAAI,eAAe;IAEhC,IAAIC,GAAE,GAAIC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACC,SAAS,CAAC,CAAC,CAAC;IAC7C,IAAIC,MAAK,GAAI,IAAIC,eAAe,CAACN,GAAG,CAAC;IAErC,IAAIK,MAAM,CAACE,GAAG,CAAC,OAAO,CAAC,EAAE;MACvB,IAAI,CAACX,KAAI,GAAIS,MAAM,CAACE,GAAG,CAAC,OAAO,CAAC;MAEhC,IAAI,CAACC,aAAa,CAAC,CAAC;IACtB;EACF,CAAC;EACDC,OAAO,EAAE;IACDD,aAAa,WAAAA,cAAA,EAAG;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACpBT,KAAI,CAACU,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC;cAAAJ,QAAA,CAAAE,IAAA;cAAA,OAElCpC,KAAI,CACPuC,IAAI,CAAC,0BAA0B,EAAE;gBAAE1B,KAAK,EAAEc,KAAI,CAACd;cAAM,CAAC,EACtD2B,IAAI,CAAC,UAACC,QAAQ,EAAK;gBAClBd,KAAI,CAACf,QAAO,GAAI6B,QAAQ,CAAC9B,IAAI;cAC/B,CAAC,UACK,CAAC,UAAC+B,KAAK,EAAK;gBAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;cACpB,CAAC,CAAC;YAAA;cAEJf,KAAI,CAACU,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,KAAK,CAAC;YAAA;YAAA;cAAA,OAAAJ,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IAC3C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}