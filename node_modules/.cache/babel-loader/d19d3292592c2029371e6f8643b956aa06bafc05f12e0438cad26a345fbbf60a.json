{"ast":null,"code":"import _regeneratorRuntime from \"/Users/belgee/Desktop/TUSS/VueJS-Deployment/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/belgee/Desktop/TUSS/VueJS-Deployment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from 'axios';\nimport ProductBox from '@/components/Productbox.vue';\nexport default {\n  name: 'Search',\n  components: {\n    ProductBox: ProductBox\n  },\n  data: function data() {\n    return {\n      products: [],\n      query: ''\n    };\n  },\n  mounted: function mounted() {\n    document.title = 'Search | Glee';\n    var uri = window.location.search.substring(1);\n    var params = new URLSearchParams(uri);\n    if (params.get('query')) {\n      this.query = params.get('query');\n      this.performSearch();\n    }\n  },\n  methods: {\n    performSearch: function performSearch() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.$store.commit('setIsLoading', true);\n              _context.next = 3;\n              return axios.post('/api/v1/products/search/', {\n                'query': _this.query\n              }).then(function (response) {\n                _this.products = response.data;\n              })[\"catch\"](function (error) {\n                console.log(error);\n              });\n            case 3:\n              _this.$store.commit('setIsLoading', false);\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","ProductBox","name","components","data","products","query","mounted","document","title","uri","window","location","search","substring","params","URLSearchParams","get","performSearch","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","commit","post","then","response","error","console","log","stop"],"sources":["/Users/belgee/Desktop/TUSS/VueJS-Deployment/src/views/Search.vue"],"sourcesContent":["<template>\n    <div class=\"page-search\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">Search</h1>\n\n                <h2 class=\"is-size-5 has-text-grey\">Search term: \"{{ query }}\"</h2>\n            </div>\n\n            <ProductBox \n                v-for=\"product in products\"\n                v-bind:key=\"product.id\"\n                v-bind:product=\"product\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport ProductBox from '@/components/Productbox.vue'\n\nexport default {\n    name: 'Search',\n    components: {\n        ProductBox\n    },\n    data() {\n        return {\n            products: [],\n            query: ''\n        }\n    },\n    mounted() {\n        document.title = 'Search | Glee'\n\n        let uri = window.location.search.substring(1)\n        let params = new URLSearchParams(uri)\n\n        if (params.get('query')) {\n            this.query = params.get('query')\n\n            this.performSearch()\n        }\n    },\n    methods: {\n        async performSearch() {\n            this.$store.commit('setIsLoading', true)\n\n            await axios\n                .post('/api/v1/products/search/', {'query': this.query})\n                .then(response => {\n                    this.products = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n\n            this.$store.commit('setIsLoading', false)\n        }\n    }\n}\n</script>"],"mappings":";;;;;;;;;;;AAkBA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,UAAS,MAAO,6BAA4B;AAEnD,eAAe;EACXC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IACRF,UAAS,EAATA;EACJ,CAAC;EACDG,IAAI,WAAAA,KAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;IACX;EACJ,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IACNC,QAAQ,CAACC,KAAI,GAAI,eAAc;IAE/B,IAAIC,GAAE,GAAIC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACC,SAAS,CAAC,CAAC;IAC5C,IAAIC,MAAK,GAAI,IAAIC,eAAe,CAACN,GAAG;IAEpC,IAAIK,MAAM,CAACE,GAAG,CAAC,OAAO,CAAC,EAAE;MACrB,IAAI,CAACX,KAAI,GAAIS,MAAM,CAACE,GAAG,CAAC,OAAO;MAE/B,IAAI,CAACC,aAAa,CAAC;IACvB;EACJ,CAAC;EACDC,OAAO,EAAE;IACCD,aAAa,WAAAA,cAAA,EAAG;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAClBT,KAAI,CAACU,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,IAAI;cAAAJ,QAAA,CAAAE,IAAA;cAAA,OAEjC7B,KAAI,CACLgC,IAAI,CAAC,0BAA0B,EAAE;gBAAC,OAAO,EAAEZ,KAAI,CAACd;cAAK,CAAC,EACtD2B,IAAI,CAAC,UAAAC,QAAO,EAAK;gBACdd,KAAI,CAACf,QAAO,GAAI6B,QAAQ,CAAC9B,IAAG;cAChC,CAAC,UACK,CAAC,UAAA+B,KAAI,EAAK;gBACZC,OAAO,CAACC,GAAG,CAACF,KAAK;cACrB,CAAC;YAAA;cAELf,KAAI,CAACU,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,KAAK;YAAA;YAAA;cAAA,OAAAJ,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IAC5C;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}