{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"page-log-in\"\n};\nvar _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"page-name\\\"><div class=\\\"page-name__inner\\\"><div class=\\\"container\\\"><h1 class=\\\"title\\\">Шинээр бүртгүүлэх</h1><div class=\\\"breadcrumbs\\\"></div></div></div></div>\", 1);\nvar _hoisted_3 = {\n  \"class\": \"columns\"\n};\nvar _hoisted_4 = {\n  \"class\": \"field\"\n};\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Нэвтрэх нэр\", -1 /* HOISTED */);\nvar _hoisted_6 = {\n  \"class\": \"control\"\n};\nvar _hoisted_7 = {\n  \"class\": \"field\"\n};\nvar _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Нууц үг\", -1 /* HOISTED */);\nvar _hoisted_9 = {\n  \"class\": \"control\"\n};\nvar _hoisted_10 = {\n  \"class\": \"field\"\n};\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Нууц үгийг давтан оруулна уу\", -1 /* HOISTED */);\nvar _hoisted_12 = {\n  \"class\": \"control\"\n};\nvar _hoisted_13 = {\n  key: 0,\n  \"class\": \"notification is-danger\"\n};\nvar _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"field\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"control\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  \"class\": \"button is-dark\",\n  id: \"signUp\"\n}, \"Бүртгүүлэх\")])], -1 /* HOISTED */);\nvar _hoisted_15 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers(function () {\n      return $options.submitForm && $options.submitForm.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"class\": \"input\",\n    id: \"username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.username = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]])])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"class\": \"input\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.password = $event;\n    }),\n    onInput: _cache[2] || (_cache[2] = function () {\n      return $options.checkPasswordStrength && $options.checkPasswordStrength.apply($options, arguments);\n    })\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.password]])])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"class\": \"input\",\n    id: \"password2\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $data.password2 = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password2]])])]), $data.errors.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.errors, function (error) {\n    return _openBlock(), _createElementBlock(\"p\", {\n      key: error\n    }, _toDisplayString(error), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _hoisted_14, _hoisted_15, _createTextVNode(\" Эсвэл \"), _createVNode(_component_router_link, {\n    to: \"/log-in\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(\"энд дарж\")];\n    }),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" нэвтэрнэ үү! \")], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["_createStaticVNode","_createElementVNode","key","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","$options","submitForm","apply","arguments","_hoisted_4","_hoisted_5","_hoisted_6","type","$event","$data","username","_hoisted_7","_hoisted_8","_hoisted_9","password","onInput","checkPasswordStrength","_hoisted_10","_hoisted_11","_hoisted_12","password2","errors","length","_hoisted_13","_Fragment","_renderList","error","_toDisplayString","_createCommentVNode","_hoisted_14","_hoisted_15","_createTextVNode","_createVNode","_component_router_link","to","_withCtx","_"],"sources":["/home/uranbileg/class/TSHOP-VueJS-Frontend/src/views/SignUp.vue"],"sourcesContent":["<template>\n  <div class=\"page-log-in\">\n    <div class=\"page-name\">\n      <div class=\"page-name__inner\">\n        <div class=\"container\">\n          <h1 class=\"title\">Шинээр бүртгүүлэх</h1>\n          <div class=\"breadcrumbs\">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"columns\">\n\n    <form @submit.prevent=\"submitForm\">\n      <div class=\"field\">\n        <label>Нэвтрэх нэр</label>\n        <div class=\"control\">\n          <input type=\"text\" class=\"input\" id=\"username\" v-model=\"username\" />\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label>Нууц үг</label>\n        <div class=\"control\">\n          <input type=\"password\" class=\"input\" id=\"password\" v-model=\"password\" @input=\"checkPasswordStrength\" />\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label>Нууц үгийг давтан оруулна уу</label>\n        <div class=\"control\">\n          <input type=\"password\" class=\"input\" id=\"password2\" v-model=\"password2\" />\n        </div>\n      </div>\n\n      <div class=\"notification is-danger\" v-if=\"errors.length\">\n        <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n      </div>\n\n      <div class=\"field\">\n        <div class=\"control\">\n          <button class=\"button is-dark\" id=\"signUp\">Бүртгүүлэх</button>\n        </div>\n      </div>\n\n      <hr />\n\n      Эсвэл <router-link to=\"/log-in\">энд дарж</router-link> нэвтэрнэ үү!\n    </form>\n  </div>\n</div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { toast } from \"bulma-toast\";\n\nexport default {\n  name: \"SignUp\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      password2: \"\",\n      errors: [],\n    };\n  },\n  methods: {\n    submitForm() {\n      this.errors = [];\n\n      if (this.username === \"\") {\n        this.errors.push(\"The username is missing\");\n      }\n\n      if (this.password === \"\") {\n        this.errors.push(\"The password is too short\");\n      }\n\n      if (this.password !== this.password2) {\n        this.errors.push(\"The passwords doesn't match\");\n      }\n      this.checkPasswordStrength();\n\n      if (!this.errors.length) {\n        const formData = {\n          username: this.username,\n          password: this.password,\n        };\n\n        axios\n          .post(\"/api/v1/users/\", formData)\n          .then((response) => {\n            toast({\n              message: \"Account created, please log in!\",\n              type: \"is-success\",\n              dismissible: true,\n              pauseOnHover: true,\n              duration: 2000,\n              position: \"bottom-right\",\n            });\n\n            this.$router.push(\"/log-in\");\n          })\n          .catch((error) => {\n            if (error.response) {\n              for (const property in error.response.data) {\n                this.errors.push(\n                  `${property}: ${error.response.data[property]}`\n                );\n              }\n\n              console.log(JSON.stringify(error.response.data));\n            } else if (error.message) {\n              this.errors.push(\"Something went wrong. Please try again\");\n\n              console.log(JSON.stringify(error));\n            }\n          });\n      }\n    },\n    checkPasswordStrength() {\n      this.errors = [];\n\n      if (this.password.length < 6) {\n        this.errors.push(\"Пассворд дор хаяж нэг том үсэг, нэг жижиг үсэг, нэг тусгай тэмдэгт, нэг тоо орсон байх ба 6-с дээш тэмдэгт агуулсан байх ёстой\");\n      } else if (!/[A-Z]/.test(this.password)) {\n        this.errors.push(\"Пассворд дор хаяж нэг том үсэг, нэг жижиг үсэг, нэг тусгай тэмдэгт, нэг тоо орсон байх ба 6-с дээш тэмдэгт агуулсан байх ёстой\");\n      } else if (!/[a-z]/.test(this.password)) {\n        this.errors.push(\"Пассворд дор хаяж нэг том үсэг, нэг жижиг үсэг, нэг тусгай тэмдэгт, нэг тоо орсон байх ба 6-с дээш тэмдэгт агуулсан байх ёстой\");\n      } else if (!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(this.password)) {\n        this.errors.push(\"Пассворд дор хаяж нэг том үсэг, нэг жижиг үсэг, нэг тусгай тэмдэгт, нэг тоо орсон байх ба 6-с дээш тэмдэгт агуулсан байх ёстой\");\n      } else if (!/\\d/.test(this.password)) {\n        this.errors.push(\"Пассворд дор хаяж нэг том үсэг, нэг жижиг үсэг, нэг тусгай тэмдэгт, нэг тоо орсон байх ба 6-с дээш тэмдэгт агуулсан байх ёстой\");\n      }\n    },\n\n  }\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}