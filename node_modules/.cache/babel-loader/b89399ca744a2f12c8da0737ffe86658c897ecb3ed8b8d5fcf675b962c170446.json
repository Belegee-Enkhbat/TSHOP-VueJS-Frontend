{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"page-my-account\"\n};\nvar _hoisted_2 = {\n  \"class\": \"columns is-multiline\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"column is-12\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  \"class\": \"title\"\n}, \"My account\")], -1 /* HOISTED */);\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nvar _hoisted_5 = {\n  \"class\": \"column is-12\"\n};\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  \"class\": \"subtitle\"\n}, \"Захиалгын түүх\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_OrderSummary = _resolveComponent(\"OrderSummary\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createCommentVNode(\" <div class=\\\"column is-12\\\">\\n        <button @click=\\\"logoutHandler()\\\" class=\\\"button is-danger\\\">Гарах</button>\\n      </div> \"), _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.orders, function (order) {\n    return _openBlock(), _createBlock(_component_OrderSummary, {\n      key: order.id,\n      order: order\n    }, null, 8 /* PROPS */, [\"order\"]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createCommentVNode","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","$data","orders","order","_createBlock","_component_OrderSummary","key","id"],"sources":["/home/uranbileg/class/TSHOP-VueJS-Frontend/src/views/MyAccount.vue"],"sourcesContent":["<template>\n  <div class=\"page-my-account\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">My account</h1>\n      </div>\n\n      <!-- <div class=\"column is-12\">\n        <button @click=\"logoutHandler()\" class=\"button is-danger\">Гарах</button>\n      </div> -->\n\n      <hr />\n\n      <div class=\"column is-12\">\n        <h2 class=\"subtitle\">Захиалгын түүх</h2>\n        <OrderSummary v-for=\"order in orders\" v-bind:key=\"order.id\" v-bind:order=\"order\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { logout } from \"@/store/LogoutService\";\nimport OrderSummary from \"@/components/OrderSummary.vue\";\n\nexport default {\n  name: \"MyAccount\",\n  components: {\n    OrderSummary,\n  },\n  data() {\n    return {\n      orders: [],\n    };\n  },\n  mounted() {\n    document.title = \"My account | Glee\";\n\n    this.getMyOrders();\n  },\n  methods: {\n    logoutHandler() {\n      logout.call(this); \n    },\n    async getMyOrders() {\n      this.$store.commit(\"setIsLoading\", true);\n\n      await axios\n        .get(\"/api/v1/orders/\")\n        .then((response) => {\n          this.orders = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n\n      this.$store.commit(\"setIsLoading\", false);\n    },\n  },\n};\n</script>\n"],"mappings":";;EACO,SAAM;AAAiB;;EACrB,SAAM;AAAsB;8BAC/BA,mBAAA,CAEM;EAFD,SAAM;AAAc,I,aACvBA,mBAAA,CAAiC;EAA7B,SAAM;AAAO,GAAC,YAAU,E;8BAO9BA,mBAAA,CAAM;;EAED,SAAM;AAAc;8BACvBA,mBAAA,CAAwC;EAApC,SAAM;AAAU,GAAC,gBAAc;;;uBAbzCC,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBJF,mBAAA,CAeM,OAfNG,UAeM,GAdJC,UAEM,EAENC,mBAAA,sIAEU,EAEVC,UAAM,EAENN,mBAAA,CAGM,OAHNO,UAGM,GAFJC,UAAwC,G,kBACxCP,mBAAA,CAAmFQ,SAAA,QAf3FC,WAAA,CAesCC,KAAA,CAAAC,MAAM,EAf5C,UAe6BC,KAAK;yBAA1BC,YAAA,CAAmFC,uBAAA;MAAtCC,GAAG,EAAEH,KAAK,CAACI,EAAE;MAASJ,KAAK,EAAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}