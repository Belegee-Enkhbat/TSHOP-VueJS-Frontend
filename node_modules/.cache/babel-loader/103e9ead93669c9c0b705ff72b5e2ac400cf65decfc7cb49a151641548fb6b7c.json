{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport { createStore } from \"vuex\";\nexport default createStore({\n  state: {\n    user: localStorage.getItem(\"user\"),\n    cart: {\n      items: []\n    },\n    isAuthenticated: false,\n    token: \"\",\n    isLoading: false\n  },\n  getters: {\n    getUser: function getUser() {\n      return this.state.user;\n    }\n  },\n  mutations: {\n    initializeStore: function initializeStore(state) {\n      if (localStorage.getItem(\"cart\")) {\n        state.cart = JSON.parse(localStorage.getItem(\"cart\"));\n      } else {\n        localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n      }\n      if (localStorage.getItem(\"token\")) {\n        state.token = localStorage.getItem(\"token\");\n        state.isAuthenticated = true;\n      } else {\n        state.token = \"\";\n        state.isAuthenticated = false;\n      }\n    },\n    addToCart: function addToCart(state, item) {\n      var exists = state.cart.items.filter(function (i) {\n        return i.product.id === item.product.id;\n      });\n      if (exists.length) {\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity);\n      } else {\n        state.cart.items.push(item);\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n    },\n    setIsLoading: function setIsLoading(state, status) {\n      state.isLoading = status;\n    },\n    setToken: function setToken(state, token) {\n      state.token = token;\n      state.isAuthenticated = true;\n    },\n    setUser: function setUser(state) {\n      state.user = \"\";\n      state.isAuthenticated = true;\n    },\n    removeToken: function removeToken(state) {\n      state.token = \"\";\n      state.isAuthenticated = false;\n    },\n    clearCart: function clearCart(state) {\n      state.cart = {\n        items: []\n      };\n      localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n    }\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","user","localStorage","getItem","cart","items","isAuthenticated","token","isLoading","getters","getUser","mutations","initializeStore","JSON","parse","setItem","stringify","addToCart","item","exists","filter","i","product","id","length","quantity","parseInt","push","setIsLoading","status","setToken","setUser","removeToken","clearCart","actions","modules"],"sources":["/home/uranbileg/class/TSHOP-VueJS-Frontend/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {\n    user: localStorage.getItem(\"user\"),\n    cart: {\n      items: [],\n    },\n    isAuthenticated: false,\n    token: \"\",\n    isLoading: false,\n  },\n  getters: {\n    getUser() {\n      return this.state.user;\n    },\n  },\n  mutations: {\n    initializeStore(state) {\n      if (localStorage.getItem(\"cart\")) {\n        state.cart = JSON.parse(localStorage.getItem(\"cart\"));\n      } else {\n        localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n      }\n\n      if (localStorage.getItem(\"token\")) {\n        state.token = localStorage.getItem(\"token\");\n        state.isAuthenticated = true;\n      } else {\n        state.token = \"\";\n        state.isAuthenticated = false;\n      }\n    },\n    addToCart(state, item) {\n      const exists = state.cart.items.filter(\n        (i) => i.product.id === item.product.id\n      );\n\n      if (exists.length) {\n        exists[0].quantity =\n          parseInt(exists[0].quantity) + parseInt(item.quantity);\n      } else {\n        state.cart.items.push(item);\n      }\n\n      localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n    },\n    setIsLoading(state, status) {\n      state.isLoading = status;\n    },\n    setToken(state, token) {\n      state.token = token;\n      state.isAuthenticated = true;\n    },\n    setUser(state) {\n      state.user = \"\";\n      state.isAuthenticated = true;\n    },\n    removeToken(state) {\n      state.token = \"\";\n      state.isAuthenticated = false;\n    },\n    clearCart(state) {\n      state.cart = { items: [] };\n\n      localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n    },\n  },\n  actions: {},\n  modules: {},\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}