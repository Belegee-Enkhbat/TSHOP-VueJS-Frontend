{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"page-search\"\n};\nvar _hoisted_2 = {\n  \"class\": \"columns is-multiline\"\n};\nvar _hoisted_3 = {\n  \"class\": \"column is-12\"\n};\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  \"class\": \"title\"\n}, \"Search\", -1 /* HOISTED */);\nvar _hoisted_5 = {\n  \"class\": \"is-size-5 has-text-grey\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_ProductBox = _resolveComponent(\"ProductBox\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"h2\", _hoisted_5, \"Search term: \\\"\" + _toDisplayString($data.query) + \"\\\"\", 1 /* TEXT */)]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, function (product) {\n    return _openBlock(), _createBlock(_component_ProductBox, {\n      key: product.id,\n      product: product\n    }, null, 8 /* PROPS */, [\"product\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","$data","query","_Fragment","_renderList","products","product","_createBlock","_component_ProductBox","key","id"],"sources":["/Users/belgee/Desktop/ICSI402-Software-Development/TeamProject/TSHOP-Frontend-VueJS/src/views/Search.vue"],"sourcesContent":["<template>\n  <div class=\"page-search\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">Search</h1>\n\n        <h2 class=\"is-size-5 has-text-grey\">Search term: \"{{ query }}\"</h2>\n      </div>\n\n      <ProductBox\n        v-for=\"product in products\"\n        v-bind:key=\"product.id\"\n        v-bind:product=\"product\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ProductBox from \"@/components/Productbox.vue\";\nimport Productbox from \"../components/Productbox.vue\";\n\nexport default {\n  name: \"Search\",\n  computed: {\n    Productbox() {\n      return Productbox\n    }\n  },\n  components: {\n    ProductBox,\n  },\n  data() {\n    return {\n      products: [],\n      query: \"\",\n    };\n  },\n  mounted() {\n    document.title = \"Search | Glee\";\n\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n\n    if (params.get(\"query\")) {\n      this.query = params.get(\"query\");\n\n      this.performSearch();\n    }\n  },\n  methods: {\n    async performSearch() {\n      this.$store.commit(\"setIsLoading\", true);\n\n      await axios\n        .post(\"/api/v1/products/search/\", { query: this.query })\n        .then((response) => {\n          this.products = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n\n      this.$store.commit(\"setIsLoading\", false);\n    },\n  },\n};\n</script>\n"],"mappings":";;EACO,SAAM;AAAa;;EACjB,SAAM;AAAsB;;EAC1B,SAAM;AAAc;8BACvBA,mBAAA,CAA6B;EAAzB,SAAM;AAAO,GAAC,QAAM;;EAEpB,SAAM;AAAyB;;;uBALzCC,mBAAA,CAcM,OAdNC,UAcM,GAbJF,mBAAA,CAYM,OAZNG,UAYM,GAXJH,mBAAA,CAIM,OAJNI,UAIM,GAHJC,UAA6B,EAE7BL,mBAAA,CAAmE,MAAnEM,UAAmE,EAA/B,iBAAc,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,KAAK,IAAG,IAAC,gB,sBAGhER,mBAAA,CAIES,SAAA,QAbRC,WAAA,CAU0BH,KAAA,CAAAI,QAAQ,EAVlC,UAUeC,OAAO;yBADhBC,YAAA,CAIEC,qBAAA;MAFOC,GAAG,EAAEH,OAAO,CAACI,EAAE;MACfJ,OAAO,EAAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}