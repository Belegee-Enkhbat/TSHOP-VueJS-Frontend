{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport axios from \"axios\";\nimport { toast } from \"bulma-toast\";\nexport default {\n  name: \"SignUp\",\n  data: function data() {\n    return {\n      username: \"\",\n      password: \"\",\n      password2: \"\",\n      errors: []\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n      this.errors = [];\n      if (this.username === \"\") {\n        this.errors.push(\"The username is missing\");\n      }\n      if (this.password === \"\") {\n        this.errors.push(\"The password is too short\");\n      }\n      if (this.password !== this.password2) {\n        this.errors.push(\"The passwords doesn't match\");\n      }\n      checkPasswordStrength();\n      if (!this.errors.length) {\n        var formData = {\n          username: this.username,\n          password: this.password\n        };\n        axios.post(\"/api/v1/users/\", formData).then(function (response) {\n          toast({\n            message: \"Account created, please log in!\",\n            type: \"is-success\",\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: \"bottom-right\"\n          });\n          _this.$router.push(\"/log-in\");\n        })[\"catch\"](function (error) {\n          if (error.response) {\n            for (var property in error.response.data) {\n              _this.errors.push(\"\".concat(property, \": \").concat(error.response.data[property]));\n            }\n            console.log(JSON.stringify(error.response.data));\n          } else if (error.message) {\n            _this.errors.push(\"Something went wrong. Please try again\");\n            console.log(JSON.stringify(error));\n          }\n        });\n      }\n    },\n    checkPasswordStrength: function checkPasswordStrength() {\n      this.errors = [];\n\n      // Check for password length\n      if (this.password.length < 6) {\n        this.errors.push(\"Password should be at least 6 characters long\");\n      }\n\n      // Check for uppercase letter\n      if (!/[A-Z]/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one uppercase letter\");\n      }\n\n      // Check for lowercase letter\n      if (!/[a-z]/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one lowercase letter\");\n      }\n\n      // Check for special character\n      if (!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one special character\");\n      }\n\n      // Check for number\n      if (!/\\d/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one number\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","toast","name","data","username","password","password2","errors","methods","submitForm","_this","push","checkPasswordStrength","length","formData","post","then","response","message","type","dismissible","pauseOnHover","duration","position","$router","error","property","concat","console","log","JSON","stringify","test"],"sources":["/home/uranbileg/class/TSHOP-VueJS-Frontend/src/views/SignUp.vue"],"sourcesContent":["<template>\n  <div class=\"page-sign-up\">\n    <div class=\"columns\">\n      <div class=\"column is-4 is-offset-4\">\n        <h1 class=\"title\">Sign up</h1>\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"field\">\n            <label>Username</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"username\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>Password</label>\n            <div class=\"control\">\n              <input type=\"password\" class=\"input\" v-model=\"password\" @input=\"checkPasswordStrength\"/>\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>Repeat password</label>\n            <div class=\"control\">\n              <input type=\"password\" class=\"input\" v-model=\"password2\" />\n            </div>\n          </div>\n\n          <div class=\"notification is-danger\" v-if=\"errors.length\">\n            <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n          </div>\n\n          <div class=\"field\">\n            <div class=\"control\">\n              <button class=\"button is-dark\">Sign up</button>\n            </div>\n          </div>\n\n          <hr />\n\n          Or <router-link to=\"/log-in\">click here</router-link> to log in!\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { toast } from \"bulma-toast\";\n\nexport default {\n  name: \"SignUp\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      password2: \"\",\n      errors: [],\n    };\n  },\n  methods: {\n    submitForm() {\n      this.errors = [];\n\n      if (this.username === \"\") {\n        this.errors.push(\"The username is missing\");\n      }\n\n      if (this.password === \"\") {\n        this.errors.push(\"The password is too short\");\n      }\n\n      if (this.password !== this.password2) {\n        this.errors.push(\"The passwords doesn't match\");\n      }\n      checkPasswordStrength();\n\n      if (!this.errors.length) {\n        const formData = {\n          username: this.username,\n          password: this.password,\n        };\n\n        axios\n          .post(\"/api/v1/users/\", formData)\n          .then((response) => {\n            toast({\n              message: \"Account created, please log in!\",\n              type: \"is-success\",\n              dismissible: true,\n              pauseOnHover: true,\n              duration: 2000,\n              position: \"bottom-right\",\n            });\n\n            this.$router.push(\"/log-in\");\n          })\n          .catch((error) => {\n            if (error.response) {\n              for (const property in error.response.data) {\n                this.errors.push(\n                  `${property}: ${error.response.data[property]}`\n                );\n              }\n\n              console.log(JSON.stringify(error.response.data));\n            } else if (error.message) {\n              this.errors.push(\"Something went wrong. Please try again\");\n\n              console.log(JSON.stringify(error));\n            }\n          });\n      }\n    },\n    checkPasswordStrength() {\n      this.errors = [];\n\n      // Check for password length\n      if (this.password.length < 6) {\n        this.errors.push(\"Password should be at least 6 characters long\");\n      }\n\n      // Check for uppercase letter\n      if (!/[A-Z]/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one uppercase letter\");\n      }\n\n      // Check for lowercase letter\n      if (!/[a-z]/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one lowercase letter\");\n      }\n\n      // Check for special character\n      if (!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one special character\");\n      }\n\n      // Check for number\n      if (!/\\d/.test(this.password)) {\n        this.errors.push(\"Password should contain at least one number\");\n      }\n    }\n  \n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}